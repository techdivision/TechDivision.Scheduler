<f:layout name="BackendSubModule" />

<f:section name="subtitle">
    <h2>Create a new cron job</h2>
</f:section>

<f:section name="content">
    <f:form action="create">
        <div class="neos-row-fluid">
            <fieldset class="neos-span5">
                <legend>Cron</legend>
                <div class="neos-control-group">
                    <label class="neos-control-label" for="name">Name</label>
                    <div class="neos-controls">
                        <f:form.textfield name="name" id="name" class="neos-span12" required="true" />
                    </div>
                </div>
                <div class="neos-control-group">
                    <f:if condition="{cronCommands -> f:count()} > 0">
                        <f:then>
                            <div class="neos-control-group">
                                <label class="neos-control-label" for="cronCommand">Select a cron command</label>
                                <div class="neos-controls neos-select">
                                    <f:form.select name="cronCommand" options="{cronCommands}" optionLabelField="cronCommand" optionValueField="cronCommand" id="cronCommand" class="neos-span12" />
                                </div>
                            </div>
                        </f:then>
                        <f:else>
                            <p>No cron commands are available.</p>
                        </f:else>
                    </f:if>
                </div>
                <div class="neos-control-group">
                    <label class="neos-control-label" for="parameter">Parameter</label>
                    <div class="neos-controls">
                        <f:form.textfield name="parameter" id="parameter" class="neos-span12" required="false" />
                    </div>
                </div>
                <div class="neos-control-group">
                    <label class="neos-control-label" for="cronExpression">Cron Expression</label>
                    <div class="neos-controls">
                        <f:form.textfield name="cronExpression" id="cronExpression" class="neos-span12" required="true" />
                    </div>
                </div>
            </fieldset>
        </div>

        <div class="neos-footer">
            <f:link.action action="index" class="neos-button">Cancel</f:link.action>
            <f:form.submit value="Create" class="neos-button neos-button-primary" />
        </div>
    </f:form>
</f:section>